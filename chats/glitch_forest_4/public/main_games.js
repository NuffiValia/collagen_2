var srcWidth,srcHeight,canvas=document.getElementById("canvas"),ctx=canvas.getContext("2d"),colorSpriteArea="#0fec42",colorCommonArea="red",colorAdditionalArea="violet",img=new Image;img.src="./public/fire.png";var HM,saveImg=!1,restoreImg=!1,stepBack=[],backStepCounts=6,halfPointSize=5,lineColor=colorCommonArea,lineWidth=3,mainImgScale_x=1,mainImgScale_y=1,mirror_x=1,mirror_y=1,littleCanvas=!1,showLogs=!0,modules={},onloadModules={},grid_color="green",grid_weight=.5,areaDistanceStep=1,maxTranslate=[-2e3,-2e3],ctxTranslate=[0,0],isMoveCamera=!0,mode="edit",tiles_common=[],tiles_bg=[],tiles_common_save=[],tiles_bg_save=[];modules.mousedown=function(e){},modules.mouseup=function(e){},modules.keydown=function(e){},modules.keyup=function(e){},window.onload=function(){var e=window.location.search;new URLSearchParams(e).get("code");(HM=new HTMLixState(StateMap)).eventProps["emiter-operation-with"].emit(),document.addEventListener("keydown",(function(e){"Control"!=e.key&&"Shift"!=e.key&&HM.eventProps["emiter-keydown"].setEventProp(e.code)})),document.addEventListener("keyup",(function(e){"Control"!=e.key&&"Shift"!=e.key&&HM.eventProps["emiter-keyup"].setEventProp(e.code)})),console.log(HM),img.onload=function(){startImg()},startImg()};